<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ› ï¸ Ù…Ø­Ù„Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºØ§Øª</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .analyzer-form {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .language-selector, .code-input {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
            font-size: 1.1em;
        }

        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            background: white;
            transition: border-color 0.3s;
        }

        select:focus {
            border-color: #667eea;
            outline: none;
        }

        textarea {
            width: 100%;
            height: 250px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            transition: border-color 0.3s;
            line-height: 1.4;
        }

        textarea:focus {
            border-color: #667eea;
            outline: none;
        }

        button {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s;
            font-weight: bold;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        button:active {
            transform: translateY(0);
        }

        .loading {
            text-align: center;
            padding: 30px;
            background: white;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
        }

        .loading p {
            font-size: 1.2em;
            color: #667eea;
        }

        .results {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
            margin-bottom: 30px;
        }

        .results h2 {
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .issue {
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border-right: 5px solid;
            font-size: 14px;
        }

        .security { 
            border-color: #e74c3c; 
            background: #fdf2f2; 
        }
        .performance { 
            border-color: #f39c12; 
            background: #fef9f3; 
        }
        .complexity { 
            border-color: #3498db; 
            background: #f4f8fe; 
        }
        .best-practice { 
            border-color: #27ae60; 
            background: #f2fcf5; 
        }

        .summary {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 4px solid #667eea;
        }

        .summary h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .summary p {
            margin: 8px 0;
            font-size: 16px;
        }

        .category {
            margin-bottom: 25px;
        }

        .category h4 {
            color: #555;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #eee;
        }

        .success {
            background: #d4edda;
            color: #155724;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #c3e6cb;
        }

        .error {
            background: #f8d7da;
            color: #721c24;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #f5c6cb;
        }

        .features {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .features h3 {
            text-align: center;
            margin-bottom: 25px;
            color: #333;
        }

        .language-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            font-weight: bold;
            transition: transform 0.3s;
        }

        .card:hover {
            transform: translateY(-3px);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            header h1 {
                font-size: 2em;
            }
            
            .analyzer-form {
                padding: 20px;
            }
            
            .language-cards {
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            }
        }

        /* Ø£Ø­Ø±Ù Ù…ØªØ­Ø±ÙƒØ© */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="fade-in">
            <h1>ğŸ› ï¸ Ù…Ø­Ù„Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ</h1>
            <p>Ø­Ù„Ù„ ÙƒÙˆØ¯Ùƒ Ø¨Ø£ÙŠ Ù„ØºØ© Ø¨Ø±Ù…Ø¬Ø© ÙˆØ­Ø³Ù† Ù…Ù† Ø¬ÙˆØ¯ØªÙ‡</p>
        </header>

        <div class="analyzer-form fade-in">
            <div class="language-selector">
                <label for="language">Ø§Ø®ØªØ± Ù„ØºØ© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©:</label>
                <select id="language">
                    <option value="python">ğŸ Python</option>
                    <option value="lua">ğŸŒ™ Lua</option>
                    <option value="luau">ğŸ® Luau (Roblox)</option>
                    <option value="c">ğŸ”§ C</option>
                    <option value="cpp">âš¡ C++</option>
                    <option value="csharp">ğŸ’  C#</option>
                </select>
            </div>

            <div class="code-input">
                <label for="code">Ø§Ù„ØµÙ‚ ÙƒÙˆØ¯Ùƒ Ù‡Ù†Ø§:</label>
                <textarea id="code" placeholder="// Ø§Ù„ØµÙ‚ ÙƒÙˆØ¯Ùƒ Ù‡Ù†Ø§...&#10;// Ù…Ø«Ø§Ù„:&#10;function example() {&#10;    return 'Hello World';&#10;}"></textarea>
            </div>

            <button id="analyze-btn" onclick="analyzeCode()">ğŸ” ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯</button>
        </div>

        <div id="loading" class="loading">
            <p>ğŸ”„ Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯...</p>
        </div>

        <div id="results" class="results">
            <h2>ğŸ“Š Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ­Ù„ÙŠÙ„</h2>
            <div id="results-content"></div>
        </div>

        <div class="features fade-in">
            <h3>ğŸš€ Ø§Ù„Ù„ØºØ§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©</h3>
            <div class="language-cards">
                <div class="card">ğŸ Python</div>
                <div class="card">ğŸŒ™ Lua</div>
                <div class="card">ğŸ® Luau</div>
                <div class="card">ğŸ”§ C</div>
                <div class="card">âš¡ C++</div>
                <div class="card">ğŸ’  C#</div>
            </div>
        </div>
    </div>

    <script>
        // Ø£Ù…Ø«Ù„Ø© ÙƒÙˆØ¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
        const examples = {
            python: `def calculate_sum(numbers):\n    total = 0\n    for num in numbers:\n        total += num\n    return total\n\n# Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ù…Ø´ÙƒÙ„Ø© Ø£Ù…Ù†ÙŠØ©\npassword = "secret123"\n\n# Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ù…Ø´ÙƒÙ„Ø© Ø£Ø¯Ø§Ø¡\nresult = ""\nfor i in range(1000):\n    result += str(i)`,
            
            lua: `function factorial(n)\n    if n == 0 then\n        return 1\n    else\n        return n * factorial(n-1)\n    end\nend\n\n-- Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ù…Ø´ÙƒÙ„Ø©\nlocal password = "mysecret"`,
            
            luau: `function onPlayerJoin(player)\n    -- Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ ÙƒÙˆØ¯ Roblox\n    local humanoid = player.Character:FindFirstChild("Humanoid")\n    if humanoid then\n        humanoid.Health = 100\n    end\nend`,
            
            c: `#include <stdio.h>\n\nint main() {\n    int x = 10;\n    printf("Hello World\\n");\n    \n    // Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ù…Ø´ÙƒÙ„Ø©\n    char password[] = "secret";\n    return 0;\n}`,
            
            cpp: `#include <iostream>\nusing namespace std;\n\nint main() {\n    int x = 10;\n    cout << "Hello World" << endl;\n    \n    // Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ù…Ø´ÙƒÙ„Ø©\n    string api_key = "12345";\n    return 0;\n}`,
            
            csharp: `using System;\n\nclass Program {\n    static void Main() {\n        Console.WriteLine("Hello World");\n        \n        // Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ù…Ø´ÙƒÙ„Ø©\n        string password = "mysecret";\n    }\n}`
        };

        // Ù…Ø­Ù„Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ù…Ø­Ù„ÙŠ (ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø®Ø§Ø¯Ù…)
        function analyzeCode() {
            const code = document.getElementById('code').value;
            const language = document.getElementById('language').value;
            
            if (!code.trim()) {
                alert('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ Ù„ØªØ­Ù„ÙŠÙ„Ù‡');
                return;
            }

            // Ø¥Ø¸Ù‡Ø§Ø± loading
            document.getElementById('loading').style.display = 'block';
            document.getElementById('results').style.display = 'none';

            // Ù…Ø­Ø§ÙƒØ§Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø®Ø§Ø¯Ù…
            setTimeout(() => {
                const result = localCodeAnalysis(code, language);
                displayResults(result);
                document.getElementById('loading').style.display = 'none';
            }, 1500);
        }

        // ØªØ­Ù„ÙŠÙ„ Ù…Ø­Ù„ÙŠ Ø¨Ø¯ÙˆÙ† Ø®Ø§Ø¯Ù…
        function localCodeAnalysis(code, language) {
            const issues = {
                security_issues: [],
                performance_issues: [],
                complexity_issues: [],
                best_practice_issues: []
            };

            // ØªØ­Ù„ÙŠÙ„ Ø£Ù…Ù†ÙŠ Ø¹Ø§Ù…
            const securityPatterns = [
                { pattern: /password\s*=\s*["']/, message: 'ÙƒÙ„Ù…Ø© Ø³Ø± Ù…Ø®Ø²Ù†Ø© ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ - Ø§Ø³ØªØ®Ø¯Ù… Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©' },
                { pattern: /api_key\s*=\s*["']/, message: 'Ù…ÙØªØ§Ø­ API Ù…Ø®Ø²Ù† ÙÙŠ Ø§Ù„ÙƒÙˆØ¯ - Ø§Ø³ØªØ®Ø¯Ù… Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©' },
                { pattern: /secret\s*=\s*["']/, message: 'Ø¨ÙŠØ§Ù†Ø§Øª Ø³Ø±ÙŠØ© Ù…Ø®Ø²Ù†Ø© ÙÙŠ Ø§Ù„ÙƒÙˆØ¯' },
                { pattern: /token\s*=\s*["']/, message: 'ØªÙˆÙƒÙ† Ù…Ø®Ø²Ù† ÙÙŠ Ø§Ù„ÙƒÙˆØ¯' }
            ];

            securityPatterns.forEach(({pattern, message}) => {
                if (pattern.test(code)) {
                    issues.security_issues.push(message);
                }
            });

            // ØªØ­Ù„ÙŠÙ„ Ø£Ø¯Ø§Ø¡
            const lines = code.split('\n');
            lines.forEach((line, index) => {
                if ((line.includes('for') || line.includes('while')) && 
                    line.includes('+=') && (line.includes('"') || line.includes("'"))) {
                    issues.performance_issues.push(`Ø³Ø·Ø± ${index + 1}: ØªØ¬Ù†Ø¨ concatenation Ø§Ù„Ù†ØµÙˆØµ ÙÙŠ Ø§Ù„Ø­Ù„Ù‚Ø§Øª - Ø§Ø³ØªØ®Ø¯Ù… list Ù…Ø¹ join`);
                }
            });

            // ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªØ¹Ù‚ÙŠØ¯
            const functionCount = (code.match(/function|def|class|void|int\s+main/g) || []).length;
            const loopCount = (code.match(/for|while/g) || []).length;
            const conditionCount = (code.match(/if|else|switch/g) || []).length;
            
            const complexityScore = functionCount * 2 + loopCount * 3 + conditionCount;
            
            if (complexityScore > 20) {
                issues.complexity_issues.push(`ØªØ¹Ù‚ÙŠØ¯ Ø¹Ø§Ù„ÙŠ (${complexityScore}) - Ø­Ø§ÙˆÙ„ ØªÙ‚Ø³ÙŠÙ… Ø§Ù„ÙƒÙˆØ¯ Ø¥Ù„Ù‰ Ø¯ÙˆØ§Ù„ Ø£ØµØºØ±`);
            }

            // ØªØ­Ù„ÙŠÙ„ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª
            if (code.split('\n').length > 50 && functionCount < 3) {
                issues.best_practice_issues.push('ÙƒÙˆØ¯ Ø·ÙˆÙŠÙ„ Ø¨Ø¯ÙˆÙ† Ø¯ÙˆØ§Ù„ ÙƒØ§ÙÙŠØ© - Ù‚Ø³Ù… Ø§Ù„ÙƒÙˆØ¯ Ø¥Ù„Ù‰ Ø¯ÙˆØ§Ù„ Ù…ØªØ®ØµØµØ©');
            }

            if (!code.includes('//') && !code.includes('#') && !code.includes('--')) {
                issues.best_practice_issues.push('Ø£Ø¶Ù ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ù„ØªÙˆØ¶ÙŠØ­ Ø§Ù„ÙƒÙˆØ¯');
            }

            // Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
            const totalIssues = issues.security_issues.length + issues.performance_issues.length + 
                              issues.complexity_issues.length + issues.best_practice_issues.length;

            return {
                ...issues,
                statistics: {
                    total_lines: lines.length,
                    total_issues: totalIssues,
                    estimated_quality: Math.max(0, 100 - (complexityScore + totalIssues * 5))
                }
            };
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        function displayResults(result) {
            const resultsDiv = document.getElementById('results-content');
            
            let html = `
                <div class="summary">
                    <h3>ğŸ“ˆ Ù…Ù„Ø®Øµ Ø§Ù„ØªØ­Ù„ÙŠÙ„</h3>
                    <p><strong>Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙˆØ¯:</strong> ${result.statistics.estimated_quality}%</p>
                    <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„:</strong> ${result.statistics.total_issues}</p>
                    <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø·Ø±:</strong> ${result.statistics.total_lines}</p>
                </div>
            `;

            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø­Ø³Ø¨ Ø§Ù„ØªØµÙ†ÙŠÙ
            const categories = [
                { key: 'security_issues', title: 'ğŸ”’ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø£Ù…Ù†ÙŠØ©', className: 'security' },
                { key: 'performance_issues', title: 'ğŸ¢ Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø£Ø¯Ø§Ø¡', className: 'performance' },
                { key: 'complexity_issues', title: 'ğŸ“Š Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„ØªØ¹Ù‚ÙŠØ¯', className: 'complexity' },
                { key: 'best_practice_issues', title: 'ğŸ’¡ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª', className: 'best-practice' }
            ];

            categories.forEach(category => {
                if (result[category.key] && result[category.key].length > 0) {
                    html += `<div class="category">
                        <h4>${category.title}</h4>
                        ${result[category.key].map(issue => 
                            `<div class="issue ${category.className}">${issue}</div>`
                        ).join('')}
                    </div>`;
                }
            });

            // Ø¥Ø°Ø§ Ù„Ù… ØªÙˆØ¬Ø¯ Ù…Ø´Ø§ÙƒÙ„
            if (result.statistics.total_issues === 0) {
                html += `<div class="success">
                    <h3>ğŸ‰ Ù…Ù…ØªØ§Ø²!</h3>
                    <p>ÙƒÙˆØ¯Ùƒ Ù†Ø¸ÙŠÙ ÙˆÙ„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§ÙƒÙ„ ÙƒØ¨ÙŠØ±Ø©</p>
                </div>`;
            }

            resultsDiv.innerHTML = html;
            document.getElementById('results').style.display = 'block';
            
            // ØªØ£Ø«ÙŠØ± Ø¸Ù‡ÙˆØ± Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            document.getElementById('results').classList.add('fade-in');
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠØ©
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('language').addEventListener('change', function() {
                const lang = this.value;
                if (examples[lang]) {
                    document.getElementById('code').value = examples[lang];
                }
            });
            
            // ØªØ­Ù…ÙŠÙ„ Ù…Ø«Ø§Ù„ Ø§ÙØªØ±Ø§Ø¶ÙŠ
            document.getElementById('code').value = examples.python;
        });
    </script>
</body>
  </html>
