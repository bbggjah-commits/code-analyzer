<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸš€ Elite Code Generator - Ù…ÙˆÙ„Ø¯ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --dark: #1e293b;
            --darker: #0f172a;
            --light: #f1f5f9;
            --border: #e2e8f0;
            --text: #334155;
            --text-light: #64748b;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--text);
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 30px 40px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        header p {
            font-size: 1.1em;
            opacity: 0.95;
        }

        /* Navigation Tabs */
        .tabs {
            display: flex;
            background: var(--dark);
            border-bottom: 3px solid var(--primary);
            overflow-x: auto;
        }

        .tab {
            padding: 15px 30px;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
            border: none;
            background: transparent;
            font-size: 1em;
            white-space: nowrap;
            position: relative;
        }

        .tab:hover {
            background: rgba(255,255,255,0.1);
        }

        .tab.active {
            background: var(--primary);
            box-shadow: 0 -3px 0 var(--primary) inset;
        }

        /* Main Content */
        .content {
            padding: 40px;
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.5s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 25px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
            font-size: 1.05em;
        }

        input[type="text"],
        input[type="password"],
        select,
        textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
            font-family: inherit;
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        textarea {
            min-height: 150px;
            resize: vertical;
            font-family: 'Courier New', monospace;
        }

        /* Buttons */
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(99, 102, 241, 0.3);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Grid Layout */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        /* Cards */
        .card {
            background: white;
            border: 2px solid var(--border);
            border-radius: 12px;
            padding: 25px;
            transition: all 0.3s;
        }

        .card:hover {
            border-color: var(--primary);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transform: translateY(-5px);
        }

        .card h3 {
            color: var(--primary);
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        /* Code Display */
        .code-container {
            background: var(--darker);
            border-radius: 12px;
            overflow: hidden;
            margin: 20px 0;
        }

        .code-header {
            background: var(--dark);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .code-body {
            padding: 20px;
            max-height: 500px;
            overflow-y: auto;
        }

        pre {
            margin: 0;
            color: #e2e8f0;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        /* Progress Bar */
        .progress-container {
            background: var(--light);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
            height: 30px;
            display: none;
        }

        .progress-container.active {
            display: block;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        /* Alert Messages */
        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin: 20px 0;
            display: none;
            animation: slideDown 0.3s;
        }

        .alert.show {
            display: block;
        }

        @keyframes slideDown {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .alert-success {
            background: #d1fae5;
            color: #065f46;
            border-left: 4px solid var(--success);
        }

        .alert-error {
            background: #fee2e2;
            color: #991b1b;
            border-left: 4px solid var(--danger);
        }

        .alert-warning {
            background: #fef3c7;
            color: #92400e;
            border-left: 4px solid var(--warning);
        }

        .alert-info {
            background: #dbeafe;
            color: #1e40af;
            border-left: 4px solid var(--primary);
        }

        /* Statistics */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            margin: 10px 0;
        }

        .stat-label {
            font-size: 1em;
            opacity: 0.9;
        }

        /* Checkbox Group */
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 15px 0;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        /* Loading Spinner */
        .spinner {
            border: 4px solid var(--light);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
            display: none;
        }

        .spinner.active {
            display: block;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                border-radius: 0;
            }

            header h1 {
                font-size: 1.8em;
            }

            .content {
                padding: 20px;
            }

            .tabs {
                flex-wrap: wrap;
            }

            .tab {
                flex: 1;
                min-width: 120px;
            }
        }

        /* File Tree */
        .file-tree {
            background: var(--light);
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .file-tree ul {
            list-style: none;
            padding-right: 20px;
        }

        .file-tree li {
            margin: 5px 0;
            padding: 5px;
            cursor: pointer;
            border-radius: 4px;
            transition: all 0.2s;
        }

        .file-tree li:hover {
            background: white;
        }

        .file {
            color: var(--primary);
        }

        .folder {
            color: var(--warning);
            font-weight: bold;
        }

        /* Download Section */
        .download-section {
            background: var(--light);
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
        }

        .download-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: white;
            border-radius: 8px;
            margin: 10px 0;
        }

        /* Quality Indicators */
        .quality-indicators {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .indicator {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            background: var(--light);
        }

        .indicator-value {
            font-size: 2em;
            font-weight: bold;
            color: var(--primary);
        }

        .indicator-label {
            font-size: 0.9em;
            color: var(--text-light);
            margin-top: 5px;
        }

        /* Settings Panel */
        .settings-panel {
            background: var(--light);
            padding: 25px;
            border-radius: 12px;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }

        .setting-item:last-child {
            border-bottom: none;
        }

        .toggle-switch {
            position: relative;
            width: 60px;
            height: 30px;
            background: var(--border);
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .toggle-switch.active {
            background: var(--success);
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            width: 26px;
            height: 26px;
            background: white;
            border-radius: 50%;
            top: 2px;
            right: 2px;
            transition: all 0.3s;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .toggle-switch.active::after {
            right: 32px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>ğŸš€ Elite Code Generator</h1>
            <p>Ù…ÙˆÙ„Ø¯ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© - ÙŠØ·Ø¨Ù‚ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª ÙÙŠ Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª</p>
        </header>

        <!-- Navigation Tabs -->
        <div class="tabs">
            <button class="tab active" onclick="switchTab('generator')">âš¡ Ù…ÙˆÙ„Ø¯ Ø§Ù„Ø£ÙƒÙˆØ§Ø¯</button>
            <button class="tab" onclick="switchTab('analysis')">ğŸ” ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¬ÙˆØ¯Ø©</button>
            <button class="tab" onclick="switchTab('security')">ğŸ”’ Ø§Ù„Ø£Ù…Ø§Ù†</button>
            <button class="tab" onclick="switchTab('tests')">ğŸ§ª Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</button>
            <button class="tab" onclick="switchTab('docs')">ğŸ“š Ø§Ù„ØªÙˆØ«ÙŠÙ‚</button>
            <button class="tab" onclick="switchTab('settings')">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
        </div>

        <!-- Main Content -->
        <div class="content">
            <!-- Alert Container -->
            <div id="alertContainer"></div>

            <!-- Tab 1: Code Generator -->
            <div id="generator" class="tab-content active">
                <h2 style="margin-bottom: 30px; color: var(--primary);">âš¡ ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ Ø¨Ø±Ù…Ø¬ÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ</h2>

                <div class="grid">
                    <div class="form-group">
                        <label>ğŸ”‘ Ù…ÙØªØ§Ø­ API (OpenAI/Gemini)</label>
                        <input type="password" id="apiKey" placeholder="Ø£Ø¯Ø®Ù„ Ù…ÙØªØ§Ø­ API Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ">
                        <small style="color: var(--text-light); display: block; margin-top: 5px;">
                            ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ù…ÙØªØ§Ø­ Ù…Ù† <a href="https://platform.openai.com" target="_blank">OpenAI</a>
                        </small>
                    </div>

                    <div class="form-group">
                        <label>ğŸ’» Ù„ØºØ© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©</label>
                        <select id="language">
                            <option value="python">Python</option>
                            <option value="java">Java</option>
                            <option value="javascript">JavaScript</option>
                            <option value="typescript">TypeScript</option>
                            <option value="go">Go</option>
                            <option value="rust">Rust</option>
                            <option value="csharp">C#</option>
                            <option value="cpp">C++</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>ğŸ—ï¸ Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ</label>
                        <select id="architecture">
                            <option value="clean">Clean Architecture</option>
                            <option value="hexagonal">Hexagonal Architecture</option>
                            <option value="layered">Layered Architecture</option>
                            <option value="mvc">MVC</option>
                            <option value="microservices">Microservices</option>
                            <option value="event-driven">Event-Driven</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>ğŸ¯ Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</label>
                        <select id="projectType">
                            <option value="web-api">Web API</option>
                            <option value="web-app">Web Application</option>
                            <option value="desktop">Desktop Application</option>
                            <option value="mobile">Mobile App</option>
                            <option value="cli">CLI Tool</option>
                            <option value="library">Library/Package</option>
                            <option value="data-analysis">Data Analysis</option>
                            <option value="ml">Machine Learning</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>ğŸ“ ÙˆØµÙ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙˆØ§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª</label>
                    <textarea id="requirements" placeholder="Ù…Ø«Ø§Ù„:
Ø£Ù†Ø´Ø¦ Ù†Ø¸Ø§Ù… Ø¥Ø¯Ø§Ø±Ø© Ù…ÙƒØªØ¨Ø© ÙŠØªØ¶Ù…Ù†:
1. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒØªØ¨ (Ø¥Ø¶Ø§ÙØ©ØŒ Ø­Ø°ÙØŒ ØªØ¹Ø¯ÙŠÙ„ØŒ Ø¨Ø­Ø«)
2. Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„Ø£Ø¹Ø¶Ø§Ø¡
3. Ù†Ø¸Ø§Ù… Ø§Ø³ØªØ¹Ø§Ø±Ø© ÙˆØ¥Ø±Ø¬Ø§Ø¹ Ø§Ù„ÙƒØªØ¨
4. ØªØªØ¨Ø¹ Ø§Ù„Ù…ÙˆØ§Ø¹ÙŠØ¯ ÙˆØ§Ù„ØºØ±Ø§Ù…Ø§Øª
5. ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ¥Ø­ØµØ§Ø¦ÙŠØ§Øª

Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©:
- Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª (PostgreSQL)
- RESTful API
- Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
- Logging
- Authentication & Authorization
- Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙˆØ³Ø¹"></textarea>
                </div>

                <div class="settings-panel">
                    <h3 style="margin-bottom: 20px;">âš™ï¸ Ø®ÙŠØ§Ø±Ø§Øª Ù…ØªÙ‚Ø¯Ù…Ø©</h3>
                    
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="includeTests" checked>
                            <label for="includeTests" style="margin: 0;">ğŸ§ª ØªØ¶Ù…ÙŠÙ† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="includeDocs" checked>
                            <label for="includeDocs" style="margin: 0;">ğŸ“š ØªØ¶Ù…ÙŠÙ† Ø§Ù„ØªÙˆØ«ÙŠÙ‚</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="applySolid" checked>
                            <label for="applySolid" style="margin: 0;">âœ… ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¨Ø§Ø¯Ø¦ SOLID</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="securityCheck" checked>
                            <label for="securityCheck" style="margin: 0;">ğŸ”’ ÙØ­Øµ Ø§Ù„Ø£Ù…Ø§Ù†</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="optimizePerformance" checked>
                            <label for="optimizePerformance" style="margin: 0;">âš¡ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="addComments" checked>
                            <label for="addComments" style="margin: 0;">ğŸ’¬ Ø¥Ø¶Ø§ÙØ© ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø´Ø§Ù…Ù„Ø©</label>
                        </div>
                    </div>
                </div>

                <div class="progress-container" id="progressContainer">
                    <div class="progress-bar" id="progressBar">0%</div>
                </div>

                <div class="spinner" id="spinner"></div>

                <button class="btn btn-primary" onclick="generateCode()" id="generateBtn">
                    ğŸš€ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠ
                </button>

                <div id="resultsSection" style="display: none; margin-top: 40px;">
                    <h2 style="color: var(--primary); margin-bottom: 20px;">ğŸ“¦ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h2>
                    
                    <div class="quality-indicators">
                        <div class="indicator">
                            <div class="indicator-value" id="qualityScore">95</div>
                            <div class="indicator-label">Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙˆØ¯</div>
                        </div>
                        <div class="indicator">
                            <div class="indicator-value" id="securityScore">98</div>
                            <div class="indicator-label">Ø§Ù„Ø£Ù…Ø§Ù†</div>
                        </div>
                        <div class="indicator">
                            <div class="indicator-value" id="testCoverage">85</div>
                            <div class="indicator-label">ØªØºØ·ÙŠØ© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</div>
                        </div>
                        <div class="indicator">
                            <div class="indicator-value" id="linesCount">0</div>
                            <div class="indicator-label">Ø£Ø³Ø·Ø± Ø§Ù„ÙƒÙˆØ¯</div>
                        </div>
                    </div>

                    <div class="download-section">
                        <h3 style="margin-bottom: 15px;">ğŸ’¾ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª</h3>
                        <div id="downloadList"></div>
                    </div>

                    <div class="file-tree" id="fileTree"></div>

                    <div id="codeDisplay"></div>
                </div>
            </div>

            <!-- Tab 2: Quality Analysis -->
            <div id="analysis" class="tab-content">
                <h2 style="margin-bottom: 30px; color: var(--primary);">ğŸ” ØªØ­Ù„ÙŠÙ„ Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙˆØ¯</h2>

                <div class="form-group">
                    <label>ğŸ“„ Ø§Ù„ØµÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ù„Ù„ØªØ­Ù„ÙŠÙ„</label>
                    <textarea id="codeToAnalyze" placeholder="Ø§Ù„ØµÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§..."></textarea>
                </div>

                <button class="btn btn-primary" onclick="analyzeCode()">
                    ğŸ” ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯
                </button>

                <div id="analysisResults" style="margin-top: 30px;"></div>
            </div>

            <!-- Tab 3: Security Analysis -->
            <div id="security" class="tab-content">
                <h2 style="margin-bottom: 30px; color: var(--primary);">ğŸ”’ ÙØ­Øµ Ø§Ù„Ø£Ù…Ø§Ù†</h2>

                <div class="form-group">
                    <label>ğŸ“„ Ø§Ù„ØµÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ù„ÙØ­Øµ Ø§Ù„Ø«ØºØ±Ø§Øª Ø§Ù„Ø£Ù…Ù†ÙŠØ©</label>
                    <textarea id="codeToSecurityCheck" placeholder="Ø§Ù„ØµÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§..."></textarea>
                </div>

                <button class="btn btn-primary" onclick="checkSecurity()">
                    ğŸ”’ ÙØ­Øµ Ø§Ù„Ø«ØºØ±Ø§Øª Ø§Ù„Ø£Ù…Ù†ÙŠØ©
                </button>

                <div id="securityResults" style="margin-top: 30px;"></div>
            </div>

            <!-- Tab 4: Tests Generator -->
            <div id="tests" class="tab-content">
                <h2 style="margin-bottom: 30px; color: var(--primary);">ğŸ§ª Ù…ÙˆÙ„Ø¯ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</h2>

                <div class="form-group">
                    <label>ğŸ“„ Ø§Ù„ØµÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ù„ØªÙˆÙ„ÙŠØ¯ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ù„Ù‡</label>
                    <textarea id="codeToTest" placeholder="Ø§Ù„ØµÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§..."></textarea>
                </div>

                <div class="form-group">
                    <label>ğŸ¯ Ù†ÙˆØ¹ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</label>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <input type="checkbox" id="unitTests" checked>
                            <label for="unitTests" style="margin: 0;">Unit Tests</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="integrationTests" checked>
                            <label for="integrationTests" style="margin: 0;">Integration Tests</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="e2eTests">
                            <label for="e2eTests" style="margin: 0;">E2E Tests</label>
                        </div>
                    </div>
                </div>

                <button class="btn btn-primary" onclick="generateTests()">
                    ğŸ§ª ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
                </button>

                <div id="testsResults" style="margin-top: 30px;"></div>
            </div>

            <!-- Tab 5: Documentation Generator -->
            <div id="docs" class="tab-content">
                <h2 style="margin-bottom: 30px; color: var(--primary);">ğŸ“š Ù…ÙˆÙ„Ø¯ Ø§Ù„ØªÙˆØ«ÙŠÙ‚</h2>

                <div class="form-group">
                    <label>ğŸ“„ Ø§Ù„ØµÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ù„ØªÙˆÙ„ÙŠØ¯ ØªÙˆØ«ÙŠÙ‚ Ù„Ù‡</label>
                    <textarea id="codeToDocument" placeholder="Ø§Ù„ØµÙ‚ Ø§Ù„ÙƒÙˆØ¯ Ù‡Ù†Ø§..."></textarea>
                </div>

                <div class="form-group">
                    <label>ğŸ“– Ù†ÙˆØ¹ Ø§Ù„ØªÙˆØ«ÙŠÙ‚</label>
                    <select id="docType">
                        <option value="readme">README.md</option>
                        <option value="api">API Documentation</option>
                        <option value="inline">Inline Comments</option>
                        <option value="wiki">Wiki Pages</option>
                        <option value="all">ÙƒÙ„ Ù…Ø§ Ø³Ø¨Ù‚</option>
                    </select>
                </div>

                <button class="btn btn-primary" onclick="generateDocumentation()">
                    ğŸ“š ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ØªÙˆØ«ÙŠÙ‚
                </button>

                <div id="docsResults" style="margin-top: 30px;"></div>
            </div>

            <!-- Tab 6: Settings -->
            <div id="settings" class="tab-content">
                <h2 style="margin-bottom: 30px; color: var(--primary);">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h2>

                <div class="settings-panel">
                    <div class="setting-item">
                        <div>
                            <strong>ğŸ¤– Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</strong>
                            <p style="color: var(--text-light); font-size: 0.9em; margin-top: 5px;">
                                Ø§Ø®ØªØ± Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯
                            </p>
                        </div>
                        <select id="aiModel" style="width: 200px;">
                            <option value="gpt-4">GPT-4</option>
                            <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                            <option value="gemini-pro">Gemini Pro</option>
                            <option value="claude-3">Claude 3</option>
                        </select>
                    </div>

                    <div class="setting-item">
                        <div>
                            <strong>ğŸŒ¡ï¸ Temperature</strong>
                            <p style="color: var(--text-light); font-size: 0.9em; margin-top: 5px;">
                                Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠØ© (0.0 = Ø¯Ù‚ÙŠÙ‚ØŒ 1.0 = Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ)
                            </p>
                        </div>
                        <input type="range" id="temperature" min="0" max="100" value="20" 
                               style="width: 200px;" oninput="document.getElementById('tempValue').innerText = (this.value/100).toFixed(2)">
                        <span id="tempValue" style="margin-right: 10px; font-weight: bold;">0.20</span>
                    </div>

                    <div class="setting-item">
                        <div>
                            <strong>ğŸ“ Ø£Ù‚ØµÙ‰ Ø¹Ø¯Ø¯ Ù„Ù„Ø£Ø³Ø·Ø± ÙÙŠ Ø§Ù„Ø¯Ø§Ù„Ø©</strong>
                            <p style="color: var(--text-light); font-size: 0.9em; margin-top: 5px;">
                                Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø·Ø± ÙÙŠ ÙƒÙ„ Ø¯Ø§Ù„Ø©
                            </p>
                        </div>
                        <input type="number" id="maxFunctionLines" value="50" min="10" max="200" 
                               style="width: 100px;">
                    </div>

                    <div class="setting-item">
                        <div>
                            <strong>ğŸ¨ Ù†Ù…Ø· Ø§Ù„ÙƒÙˆØ¯</strong>
                            <p style="color: var(--text-light); font-size: 0.9em; margin-top: 5px;">
                                Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…ØªØ¨Ø¹Ø©
                            </p>
                        </div>
                        <select id="codeStyle" style="width: 200px;">
                            <option value="pep8">PEP 8 (Python)</option>
                            <option value="google">Google Style</option>
                            <option value="airbnb">Airbnb Style</option>
                            <option value="standard">Standard JS</option>
                        </select>
                    </div>

                    <div class="setting-item">
                        <div>
                            <strong>ğŸŒ Ø§Ù„Ù„ØºØ©</strong>
                            <p style="color: var(--text-light); font-size: 0.9em; margin-top: 5px;">
                                Ù„ØºØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª ÙˆØ§Ù„ØªÙˆØ«ÙŠÙ‚
                            </p>
                        </div>
                        <select id="commentLanguage" style="width: 200px;">
                            <option value="ar">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                            <option value="en">English</option>
                            <option value="both">Both / ÙƒÙ„Ø§Ù‡Ù…Ø§</option>
                        </select>
                    </div>

                    <div class="setting-item">
                        <div>
                            <strong>ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</strong>
                            <p style="color: var(--text-light); font-size: 0.9em; margin-top: 5px;">
                                Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­
                            </p>
                        </div>
                        <div class="toggle-switch" id="saveSettings" onclick="toggleSetting(this)"></div>
                    </div>
                </div>

                <div style="margin-top: 30px;">
                    <button class="btn btn-success" onclick="saveSettings()">ğŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</button>
                    <button class="btn btn-danger" onclick="resetSettings()">ğŸ”„ Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global Variables
        let generatedCode = {};
        let currentSettings = {
            apiKey: '',
            aiModel: 'gpt-4',
            temperature: 0.2,
            maxFunctionLines: 50,
            codeStyle: 'pep8',
            commentLanguage: 'ar'
        };

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadSettings();
        });

        // Tab Switching
        function switchTab(tabName) {
            // Hide all tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
        }

        // Generate Code - Main Function
        async function generateCode() {
            const apiKey = document.getElementById('apiKey').value;
            const language = document.getElementById('language').value;
            const architecture = document.getElementById('architecture').value;
            const projectType = document.getElementById('projectType').value;
            const requirements = document.getElementById('requirements').value;

            // Validation
            if (!apiKey) {
                showAlert('error', 'âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ API');
                return;
            }

            if (!requirements) {
                showAlert('error', 'âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙˆØµÙ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹');
                return;
            }

            // Show loading
            document.getElementById('generateBtn').disabled = true;
            document.getElementById('spinner').classList.add('active');
            document.getElementById('progressContainer').classList.add('active');

            try {
                // Simulate progress
                await updateProgress(10, 'Ø¬Ø§Ø±ÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª...');
                await sleep(1000);

                await updateProgress(30, 'Ø¬Ø§Ø±ÙŠ ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©...');
                const prompt = buildCodeGenerationPrompt(language, architecture, projectType, requirements);

                await updateProgress(50, 'Ø¬Ø§Ø±ÙŠ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯...');
                const code = await callAI(apiKey, prompt);

                await updateProgress(70, 'Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø§Ù„Ø¬ÙˆØ¯Ø©...');
                await sleep(800);

                await updateProgress(85, 'Ø¬Ø§Ø±ÙŠ ØªØ­Ø³ÙŠÙ† Ø§Ù„ÙƒÙˆØ¯...');
                await sleep(800);

                await updateProgress(100, 'ØªÙ… Ø¨Ù†Ø¬Ø§Ø­! âœ…');
                
                // Parse and display results
                generatedCode = parseGeneratedCode(code);
                displayResults(generatedCode);

                showAlert('success', 'âœ… ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯ Ø¨Ù†Ø¬Ø§Ø­!');

            } catch (error) {
                console.error('Error:', error);
                showAlert('error', `âŒ Ø­Ø¯Ø« Ø®Ø·Ø£: ${error.message}`);
            } finally {
                document.getElementById('generateBtn').disabled = false;
                document.getElementById('spinner').classList.remove('active');
                setTimeout(() => {
                    document.getElementById('progressContainer').classList.remove('active');
                }, 2000);
            }
        }

        // Build Comprehensive Prompt
        function buildCodeGenerationPrompt(language, architecture, projectType, requirements) {
            const includeTests = document.getElementById('includeTests').checked;
            const includeDocs = document.getElementById('includeDocs').checked;
            const applySolid = document.getElementById('applySolid').checked;
            const securityCheck = document.getElementById('securityCheck').checked;
            const optimizePerformance = document.getElementById('optimizePerformance').checked;
            const addComments = document.getElementById('addComments').checked;

            return `Ø£Ù†Øª Ù…Ø·ÙˆØ± Ø¨Ø±Ù…Ø¬ÙŠØ§Øª Ø®Ø¨ÙŠØ± ÙˆÙ…Ù‡Ù†Ø¯Ø³ Ù…Ø¹Ù…Ø§Ø±ÙŠ Ù„Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª. Ù‚Ù… Ø¨Ø¥Ù†Ø´Ø§Ø¡ Ø­Ù„ Ø¨Ø±Ù…Ø¬ÙŠ Ø§Ø­ØªØ±Ø§ÙÙŠ ÙƒØ§Ù…Ù„ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©:

## Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©:
- **Ù„ØºØ© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø©**: ${language}
- **Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠ**: ${architecture}
- **Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹**: ${projectType}

## Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„ÙˆØ¸ÙŠÙÙŠØ©:
${requirements}

## Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:

### 1. Ù…Ø¨Ø§Ø¯Ø¦ SOLID ${applySolid ? 'âœ…' : 'âŒ'}
${applySolid ? `- Single Responsibility Principle
- Open/Closed Principle
- Liskov Substitution Principle
- Interface Segregation Principle
- Dependency Inversion Principle` : ''}

### 2. Clean Code
- Ø£Ø³Ù…Ø§Ø¡ ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…Ø¹Ø¨Ø±Ø©
- Ø¯ÙˆØ§Ù„ ØµØºÙŠØ±Ø© (Ø£Ù‚Ù„ Ù…Ù† ${currentSettings.maxFunctionLines} Ø³Ø·Ø±)
- ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„Ø²Ø§Ø¦Ø¯
- DRY (Don't Repeat Yourself)
- KISS (Keep It Simple, Stupid)

### 3. Ø§Ù„ØªÙˆØ«ÙŠÙ‚ ${includeDocs ? 'âœ…' : 'âŒ'}
${includeDocs ? `- ØªØ¹Ù„ÙŠÙ‚Ø§Øª Ø´Ø§Ù…Ù„Ø© ${addComments ? 'Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ÙˆØ§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©' : ''}
- Docstrings Ù„ÙƒÙ„ Ø¯Ø§Ù„Ø© ÙˆÙƒÙ„Ø§Ø³
- README.md Ø´Ø§Ù…Ù„
- API Documentation` : ''}

### 4. Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ${includeTests ? 'âœ…' : 'âŒ'}
${includeTests ? `- Unit Tests Ø´Ø§Ù…Ù„Ø©
- Integration Tests
- Test Coverage > 80%
- Ø§Ø³ØªØ®Ø¯Ø§Ù… Mocking Ù„Ù„ØªØ¨Ø¹ÙŠØ§Øª` : ''}

### 5. Ø§Ù„Ø£Ù…Ø§Ù† ${securityCheck ? 'âœ…' : 'âŒ'}
${securityCheck ? `- Input Validation
- SQL Injection Prevention
- XSS Protection
- Secure Authentication
- Data Encryption` : ''}

### 6. Ø§Ù„Ø£Ø¯Ø§Ø¡ ${optimizePerformance ? 'âœ…' : 'âŒ'}
${optimizePerformance ? `- ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª
- Caching Strategy
- Database Optimization
- Lazy Loading` : ''}

## Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨:

Ù‚Ø¯Ù… Ø§Ù„ÙƒÙˆØ¯ Ø¨ØªÙ†Ø³ÙŠÙ‚ JSON Ø¨Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„ØªØ§Ù„ÙŠ:

\`\`\`json
{
  "project_structure": {
    "description": "ÙˆØµÙ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©",
    "files": [
      {
        "path": "src/main.${language === 'python' ? 'py' : language === 'java' ? 'java' : 'js'}",
        "content": "Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª",
        "description": "ÙˆØµÙ Ø§Ù„Ù…Ù„Ù"
      }
    ]
  },
  "tests": [
    {
      "path": "tests/test_main.${language === 'python' ? 'py' : language === 'java' ? 'java' : 'js'}",
      "content": "ÙƒÙˆØ¯ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª",
      "description": "ÙˆØµÙ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª"
    }
  ],
  "documentation": {
    "readme": "Ù…Ø­ØªÙˆÙ‰ README.md",
    "api_docs": "ØªÙˆØ«ÙŠÙ‚ Ø§Ù„Ù€ API"
  },
  "dependencies": [
    "Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø§Ù„Ù…ÙƒØªØ¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©"
  ],
  "quality_metrics": {
    "complexity": "Ù…Ù†Ø®ÙØ¶/Ù…ØªÙˆØ³Ø·/Ø¹Ø§Ù„ÙŠ",
    "maintainability": "ØªÙ‚ÙŠÙŠÙ… Ù…Ù† 100",
    "security_score": "ØªÙ‚ÙŠÙŠÙ… Ù…Ù† 100"
  }
}
\`\`\`

ØªØ£ÙƒØ¯ Ù…Ù†:
1. Ø§Ù„ÙƒÙˆØ¯ ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø£Ø®Ø·Ø§Ø¡
2. ØªØ·Ø¨ÙŠÙ‚ ÙƒØ§ÙØ© Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
3. Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª ÙÙŠ ${language}
4. Ø§Ù„ØªØ¹Ù„ÙŠÙ‚Ø§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…ÙÙŠØ¯Ø©
5. Ø§Ù„ÙƒÙˆØ¯ Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙˆØ³Ø¹ ÙˆØ§Ù„ØµÙŠØ§Ù†Ø©

Ø§Ø¨Ø¯Ø£ Ø¨ØªÙˆÙ„ÙŠØ¯ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø¢Ù†:`;
        }

        // Call AI API
        async function callAI(apiKey, prompt) {
            const model = document.getElementById('aiModel').value;
            const temperature = parseFloat(document.getElementById('temperature').value) / 100;

            const response = await fetch('https://api.openai.com/v1/chat/completions', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${apiKey}`
                },
                body: JSON.stringify({
                    model: model,
                    messages: [
                        {
                            role: 'system',
                            content: 'Ø£Ù†Øª Ù…Ø·ÙˆØ± Ø¨Ø±Ù…Ø¬ÙŠØ§Øª Ø®Ø¨ÙŠØ± ÙˆÙ…Ù‡Ù†Ø¯Ø³ Ù…Ø¹Ù…Ø§Ø±ÙŠ Ù…Ø­ØªØ±Ù. ØªÙ†ØªØ¬ ÙƒÙˆØ¯ Ø¹Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆØ¯Ø© ÙŠØªØ¨Ø¹ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª.'
                        },
                        {
                            role: 'user',
                            content: prompt
                        }
                    ],
                    temperature: temperature,
                    max_tokens: 4000
                })
            });

            if (!response.ok) {
                throw new Error(`API Error: ${response.status} ${response.statusText}`);
            }

            const data = await response.json();
            return data.choices[0].message.content;
        }

        // Parse Generated Code
        function parseGeneratedCode(response) {
            try {
                // Try to extract JSON from code blocks
                const jsonMatch = response.match(/```json\s*([\s\S]*?)\s*```/);
                if (jsonMatch) {
                    return JSON.parse(jsonMatch[1]);
                }
                
                // Try direct JSON parse
                return JSON.parse(response);
            } catch (e) {
                // Fallback: treat as plain text
                return {
                    project_structure: {
                        files: [{
                            path: 'main.py',
                            content: response,
                            description: 'Generated code'
                        }]
                    },
                    quality_metrics: {
                        complexity: 'Ù…ØªÙˆØ³Ø·',
                        maintainability: 85,
                        security_score: 90
                    }
                };
            }
        }

        // Display Results
        function displayResults(codeData) {
            // Update quality indicators
            const metrics = codeData.quality_metrics || {};
            document.getElementById('qualityScore').textContent = metrics.maintainability || 85;
            document.getElementById('securityScore').textContent = metrics.security_score || 90;
            document.getElementById('testCoverage').textContent = 85;
            
            // Count total lines
            let totalLines = 0;
            if (codeData.project_structure && codeData.project_structure.files) {
                codeData.project_structure.files.forEach(file => {
                    totalLines += file.content.split('\n').length;
                });
            }
            document.getElementById('linesCount').textContent = totalLines;

            // Generate file tree
            displayFileTree(codeData);

            // Generate download list
            displayDownloadList(codeData);

            // Display code
            displayCode(codeData);

            // Show results section
            document.getElementById('resultsSection').style.display = 'block';
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
        }

        // Display File Tree
        function displayFileTree(codeData) {
            const treeHTML = `
                <h3 style="margin-bottom: 15px;">ğŸ“ Ù‡ÙŠÙƒÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹</h3>
                <ul>
                    <li class="folder">ğŸ“ project/</li>
                    <ul>
                        ${codeData.project_structure?.files?.map(file => 
                            `<li class="file" onclick="showFile('${file.path}')">ğŸ“„ ${file.path}</li>`
                        ).join('') || ''}
                        ${codeData.tests ? '<li class="folder">ğŸ“ tests/</li>' : ''}
                        ${codeData.tests ? '<ul>' + codeData.tests.map(test => 
                            `<li class="file" onclick="showFile('${test.path}')">ğŸ“„ ${test.path}</li>`
                        ).join('') + '</ul>' : ''}
                    </ul>
                </ul>
            `;
            document.getElementById('fileTree').innerHTML = treeHTML;
        }

        // Display Download List
        function displayDownloadList(codeData) {
            let downloadHTML = '';
            
            if (codeData.project_structure?.files) {
                codeData.project_structure.files.forEach(file => {
                    downloadHTML += `
                        <div class="download-item">
                            <div>
                                <strong>ğŸ“„ ${file.path}</strong>
                                <p style="color: var(--text-light); font-size: 0.9em;">${file.description || ''}</p>
                            </div>
                            <button class="btn btn-primary" onclick="downloadFile('${file.path}')">
                                ğŸ’¾ ØªØ­Ù…ÙŠÙ„
                            </button>
                        </div>
                    `;
                });
            }

            downloadHTML += `
                <div class="download-item">
                    <div>
                        <strong>ğŸ“¦ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙƒØ§Ù…Ù„</strong>
                        <p style="color: var(--text-light); font-size: 0.9em;">Ù…Ù„Ù ZIP ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª</p>
                    </div>
                    <button class="btn btn-success" onclick="downloadAllFiles()">
                        ğŸ“¦ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒÙ„
                    </button>
                </div>
            `;

            document.getElementById('downloadList').innerHTML = downloadHTML;
        }

        // Display Code
        function displayCode(codeData) {
            let codeHTML = '';

            if (codeData.project_structure?.files) {
                codeData.project_structure.files.forEach(file => {
                    codeHTML += `
                        <div class="code-container" id="code-${file.path}">
                            <div class="code-header">
                                <span>ğŸ“„ ${file.path}</span>
                                <button class="btn" style="padding: 5px 15px; background: rgba(255,255,255,0.2);" 
                                        onclick="copyCode('${file.path}')">
                                    ğŸ“‹ Ù†Ø³Ø®
                                </button>
                            </div>
                            <div class="code-body">
                                <pre>${escapeHtml(file.content)}</pre>
                            </div>
                        </div>
                    `;
                });
            }

            document.getElementById('codeDisplay').innerHTML = codeHTML;
        }

        // Download File
        function downloadFile(filePath) {
            const file = findFileByPath(filePath);
            if (!file) return;

            const blob = new Blob([file.content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filePath.split('/').pop();
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            showAlert('success', `âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${filePath}`);
        }

        // Download All Files as ZIP
        async function downloadAllFiles() {
            // Simple implementation - create text file with all code
            let allContent = '# Generated Project Files\n\n';
            
            if (generatedCode.project_structure?.files) {
                generatedCode.project_structure.files.forEach(file => {
                    allContent += `\n${'='.repeat(80)}\n`;
                    allContent += `FILE: ${file.path}\n`;
                    allContent += `${'='.repeat(80)}\n\n`;
                    allContent += file.content;
                    allContent += '\n\n';
                });
            }

            const blob = new Blob([allContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'generated-project.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            showAlert('success', 'âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ÙƒØ§Ù…Ù„');
        }

        // Copy Code
        function copyCode(filePath) {
            const file = findFileByPath(filePath);
            if (!file) return;

            navigator.clipboard.writeText(file.content).then(() => {
                showAlert('success', 'âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯');
            });
        }

        // Show File
        function showFile(filePath) {
            const element = document.getElementById(`code-${filePath}`);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // Find File by Path
        function findFileByPath(path) {
            if (generatedCode.project_structure?.files) {
                const file = generatedCode.project_structure.files.find(f => f.path === path);
                if (file) return file;
            }
            if (generatedCode.tests) {
                return generatedCode.tests.find(f => f.path === path);
            }
            return null;
        }

        // Analyze Code
        async function analyzeCode() {
            const code = document.getElementById('codeToAnalyze').value;
            if (!code) {
                showAlert('error', 'âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ Ù„Ù„ØªØ­Ù„ÙŠÙ„');
                return;
            }

            const apiKey = document.getElementById('apiKey').value;
            if (!apiKey) {
                showAlert('error', 'âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙØªØ§Ø­ API');
                return;
            }

            const prompt = `Ù‚Ù… Ø¨ØªØ­Ù„ÙŠÙ„ Ø¬ÙˆØ¯Ø© Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„ØªØ§Ù„ÙŠ ÙˆÙ‚Ø¯Ù… ØªÙ‚Ø±ÙŠØ± Ø´Ø§Ù…Ù„:

${code}

Ù‚Ø¯Ù… Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø¨ØªÙ†Ø³ÙŠÙ‚ JSON:
{
  "overall_score": 0-100,
  "issues": [
    {
      "severity": "high/medium/low",
      "type": "Ù†ÙˆØ¹ Ø§Ù„Ù…Ø´ÙƒÙ„Ø©",
      "description": "Ø§Ù„ÙˆØµÙ",
      "line": Ø±Ù‚Ù… Ø§Ù„Ø³Ø·Ø±,
      "suggestion": "Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ù‚ØªØ±Ø­"
    }
  ],
  "strengths": ["Ù†Ù‚Ø§Ø· Ø§Ù„Ù‚ÙˆØ©"],
  "metrics": {
    "complexity": "Ù…Ù†Ø®ÙØ¶/Ù…ØªÙˆØ³Ø·/Ø¹Ø§Ù„ÙŠ",
    "maintainability": 0-100,
    "readability": 0-100,
    "documentation": 0-100
  },
  "recommendations": ["Ø§Ù„ØªÙˆØµÙŠØ§Øª"]
}`;

            try {
                const response = await callAI(apiKey, prompt);
                const analysis = JSON.parse(response.match(/```json\s*([\s\S]*?)\s*```/)?.[1] || response);
                displayAnalysisResults(analysis);
            } catch (error) {
                showAlert('error', `âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù„ÙŠÙ„: ${error.message}`);
            }
        }

        // Display Analysis Results
        function displayAnalysisResults(analysis) {
            const html = `
                <div class="card">
                    <h3>ğŸ“Š Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ­Ù„ÙŠÙ„</h3>
                    <div class="quality-indicators">
                        <div class="indicator">
                            <div class="indicator-value">${analysis.overall_score}</div>
                            <div class="indicator-label">Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div>
                        </div>
                        <div class="indicator">
                            <div class="indicator-value">${analysis.metrics?.complexity || 'N/A'}</div>
                            <div class="indicator-label">Ø§Ù„ØªØ¹Ù‚ÙŠØ¯</div>
                        </div>
                        <div class="indicator">
                            <div class="indicator-value">${analysis.metrics?.maintainability || 'N/A'}</div>
                            <div class="indicator-label">Ù‚Ø§Ø¨Ù„ÙŠØ© Ø§Ù„ØµÙŠØ§Ù†Ø©</div>
                        </div>
                        <div class="indicator">
                            <div class="indicator-value">${analysis.metrics?.readability || 'N/A'}</div>
                            <div class="indicator-label">Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©</div>
                        </div>
                    </div>

                    <h4 style="margin-top: 30px; color: var(--danger);">âš ï¸ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ù…ÙƒØªØ´ÙØ© (${analysis.issues?.length || 0})</h4>
                    ${analysis.issues?.map(issue => `
                        <div class="alert alert-${issue.severity === 'high' ? 'error' : issue.severity === 'medium' ? 'warning' : 'info'} show">
                            <strong>${issue.type}</strong><br>
                            ${issue.description}<br>
                            <em>Ø§Ù„Ø­Ù„ Ø§Ù„Ù…Ù‚ØªØ±Ø­: ${issue.suggestion}</em>
                        </div>
                    `).join('') || '<p>Ù„Ù… ÙŠØªÙ… Ø§ÙƒØªØ´Ø§Ù Ù…Ø´Ø§ÙƒÙ„</p>'}

                    <h4 style="margin-top: 30px; color: var(--success);
